# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Bart Ribbers <bribbers@disroot.org>
pkgname=nymphrpc
pkgver=0_git20200302
pkgrel=0
_commit="288a360f91dab3d14de92cc78d0fa15a71061a4a"
arch="all"
url="https://github.com/MayaPosch/NymphRPC"
pkgdesc="Versatile and fast remote procedure call library"
license="BSD-3-Clause"
depends_dev="poco-dev"
makedepends="$depends_dev"
source="$pkgname-$_commit.tar.gz::https://github.com/MayaPosch/NymphRPC/archive/$_commit.tar.gz"
subpackages="$pkgname-static $pkgname-dev"
options="!check" # No unit tests
builddir="$srcdir/NymphRPC-$_commit"

build() {
	make lib
}

package() {
	install -Dm644 lib/libnymphrpc.a "$pkgdir"/usr/lib/libnymphrpc.a

	cd src
	for header in *.h; do
		install -Dm644 "$header" "$pkgdir"/usr/include/nymph/"$header"
	done
}

sha512sums="e5c68a08f1f92ce87613a57cc450f76c0c0b2e39535352514fb35fc84a26a46325b5aa5ba9f765ca9cec6995a482c96feff3b404308084fabd31b99186de1c64  nymphrpc-288a360f91dab3d14de92cc78d0fa15a71061a4a.tar.gz"
