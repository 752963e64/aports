# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Bart Ribbers <bribbers@disroot.org>
pkgname=nymphrpc
pkgver=0_git20200309
pkgrel=0
_commit="9026bfa7f4c06505c9a1cd1dc85bae2648172d0b"
arch="all"
url="https://github.com/MayaPosch/NymphRPC"
pkgdesc="Versatile and fast remote procedure call library"
license="BSD-3-Clause"
depends_dev="poco-dev"
makedepends="$depends_dev"
source="$pkgname-$_commit.tar.gz::https://github.com/MayaPosch/NymphRPC/archive/$_commit.tar.gz"
subpackages="$pkgname-static $pkgname-dev"
options="!check" # No unit tests
builddir="$srcdir/NymphRPC-$_commit"

build() {
	make lib
}

package() {
	install -Dm644 lib/libnymphrpc.so "$pkgdir"/usr/lib/libnymphrpc.so
	install -Dm644 lib/libnymphrpc.a "$pkgdir"/usr/lib/libnymphrpc.a

	cd src
	for header in *.h; do
		install -Dm644 "$header" "$pkgdir"/usr/include/nymph/"$header"
	done
}

sha512sums="dac681508700771b7fab2ac56cec22c7d63a2f77464bf12ed76cc12cd1e9233eab8d74a7682f0c07d4de9749f757191fb3db0ba3f8827fa412cb9ffd773415e2  nymphrpc-9026bfa7f4c06505c9a1cd1dc85bae2648172d0b.tar.gz"
