# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Bart Ribbers <bribbers@disroot.org>
pkgname=nymphrpc
pkgver=0_git20200310
pkgrel=0
_commit="090c95023692bb1f8f8a00ef62a4ba788e49f62d"
arch="all"
url="https://github.com/MayaPosch/NymphRPC"
pkgdesc="Versatile and fast remote procedure call library"
license="BSD-3-Clause"
depends_dev="poco-dev"
makedepends="$depends_dev"
source="$pkgname-$_commit.tar.gz::https://github.com/MayaPosch/NymphRPC/archive/$_commit.tar.gz"
subpackages="$pkgname-dev"
options="!check" # No unit tests
builddir="$srcdir/NymphRPC-$_commit"

build() {
	make lib
}

package() {
	mkdir -p "$pkgdir"/usr/lib
	mv lib/*.so* "$pkgdir"/usr/lib/

	cd src
	for header in *.h; do
		install -Dm644 "$header" "$pkgdir"/usr/include/nymph/"$header"
	done
}

sha512sums="be0a8dad494d2475c829b623d872bf893451c04d32ecff5f3e15bff0dc9fb62714d74553d2e34bc691010b925e6839bae611c50fd880e3bfa86f961ea319898c  nymphrpc-090c95023692bb1f8f8a00ef62a4ba788e49f62d.tar.gz"
