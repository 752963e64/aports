# Contributor: Emanuele Sorce <emanuele.sorce@hotmail.com>
# Maintainer: Emanuele Sorce <emanuele.sorce@hotmail.com>
pkgname=sturmreader
pkgver=3.3.0
pkgrel=0
pkgdesc="E-Book reader for mobile devices"
url="https://github.com/tronfortytwo/sturmreader"
arch="all !ppc64le !s390x !armhf !mips !mips64" # Limited by qt5-qtwebengine
license="GPL-3.0-or-later"
depends="qt5-qtsvg qt5-qtbase-sqlite qt5-qtwebengine qt5-qtquickcontrols
	podofo"
makedepends="cmake qt5-qtdeclarative-dev qt5-qtquickcontrols2-dev qt5-qtsvg-dev
	poppler-qt5-dev quazip-dev gettext-dev libintl"
subpackages="$pkgname-lang"
source="https://github.com/tronfortytwo/sturmreader/archive/$pkgver/sturmreader-$pkgver.tar.gz"

# Sturm reader has no testing! Not even a --version thing
options="!check"

build() {
	cmake -DCLICK_MODE=OFF . -B build
	cmake --build build
}

package() {
	DESTDIR="$pkgdir" cmake --install build
}

sha512sums="6a8df5258dd6d5ffb9f547b70ee190cd3a16ca689ac62a397920fafc61e7ebc0ec21934776d8cb28a60a91c8831cdf2925dd16cc090576ff474a052e2eb33b1b  sturmreader-3.3.0.tar.gz"
