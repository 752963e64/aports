# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=p910nd
pkgver=0.97
pkgrel=0
pkgdesc="Non-spooling printer daemon"
url="https://github.com/kenyapcomau/p910nd"
arch="all"
license="GPL"
options="!check"
subpackages="$pkgname-doc $pkgname-openrc"
_commit="ac43ddcd89fa32d909627e13044b0c459f8e729e"
source="https://github.com/kenyapcomau/p910nd/archive/$_commit/p910nd-$_commit.tar.gz
$pkgname.initd
$pkgname.confd
fix-paths.patch"
builddir="$srcdir/$pkgname-$_commit"

build() {
	make
}

package() {
	install -Dm755 p910nd "$pkgdir"/usr/bin/p910nd
	install -Dm644 p910nd.8 "$pkgdir"/usr/share/man/man8/p910nd.8

	install -D -m755 "$srcdir"/$pkgname.initd \
		"$pkgdir"/etc/init.d/$pkgname
	install -D -m644 "$srcdir"/$pkgname.confd \
		"$pkgdir"/etc/conf.d/$pkgname
}

sha512sums="
c8d6c0e14ded125b335407af519325287f0f81f6ebd5592b4b3a09ff4380479550630bee33f3ef6436426ffcb262010bd835f3d13bd8d85ebe994df6d806967e  p910nd-ac43ddcd89fa32d909627e13044b0c459f8e729e.tar.gz
6c8f0208b4589dec1945fcbc4c649c46936e54abc50e35ad5916de934ead0f34b020ef2f48ca2ca6051ca4a9c09e1ac4ff563fc134d11e39f82115f8661c588f  p910nd.initd
78a2593982ea9cd8df4dc9d6e6a9a37ace3a2eea0919b74448722a5fe877b9834eb5c725e5194081f8c75ab4a032690691bfa76883a73e276aa8fa4681a793bc  p910nd.confd
c6ec4fce1c8973ad27bc8e52e4440ab0aaa2bc527323484293eb1e3d163a29909c41ac4d18ed89818fc3d8f6b0bb65a289721ee10b431f4a86977cf96fbc4d53  fix-paths.patch
"
