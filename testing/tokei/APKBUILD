# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=tokei
pkgver=12.0.1
pkgrel=0
pkgdesc="A blazingly fast CLOC (Count Lines Of Code) program"
url="https://github.com/XAMPPRocky/tokei"
arch="all !s390x"
license="MIT AND Apache-2.0"
makedepends="rust cargo"
source="$pkgname-$pkgver.tar.gz::https://github.com/XAMPPRocky/tokei/archive/v$pkgver.tar.gz"

build() {
	cargo build --release --locked --features all
}

check() {
	cargo test --release --locked --features all
}

package() {
	install -Dm755 target/release/tokei "$pkgdir/usr/bin/tokei"
}

sha512sums="c1f8e6a0a995d87bfabad6f2950d8d255b5271e2dfcbfccd58b54c8c5a94a594b8dad860bca075850867ea60332ebb5e4aa685837217182d7113abf2561ed06a  tokei-12.0.1.tar.gz"
