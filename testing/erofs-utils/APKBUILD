# Contributor: Milan P. Stanić <mps@arvanta.net>
# Maintainer: Milan P. Stanić <mps@arvanta.net>
pkgname=erofs-utils
pkgver=1.5
pkgrel=0
pkgdesc="userspace utilities for linux-erofs file system"
url="https://git.kernel.org/pub/scm/linux/kernel/git/xiang/erofs-utils.git"
arch="all"
license="GPL-2.0-or-later"
makedepends="autoconf automake libtool lz4-dev util-linux-dev"
subpackages="$pkgname-doc"
source="https://git.kernel.org/pub/scm/linux/kernel/git/xiang/erofs-utils.git/snapshot/erofs-utils-$pkgver.tar.gz"

prepare() {
	default_prepare
	autoreconf -fiv
}

build() {
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr
	make
}

check() {
	make check
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
0a9d593a9fef3c5976dc63e2927f47d070121ed07e6dda727b0a715b72cfe560c83bdf26ce41fe07b8cb5b66b0660105848e3f7c5a84f222296eb422d1cd5cba  erofs-utils-1.5.tar.gz
"
