# Maintainer: Antoni Aloy <aaloytorrens@gmail.com>
pkgname=pdfarranger
pkgver=1.9.0
pkgrel=0
pkgdesc="Helps merge or split PDF documents and rotate, crop and rearrange pages"
url="https://github.com/pdfarranger/pdfarranger"
arch="noarch"
license="GPL-3.0-or-later"
depends="desktop-file-utils ghostscript gsettings-desktop-schemas
	gtk+3.0 poppler-glib py3-atspi py3-cairo py3-dateutil py3-gobject3
	py3-img2pdf>=0.3.4 py3-pikepdf>=1.17.0"
makedepends="py3-setuptools py3-distutils-extra intltool"
options="!check" # tests require dogtail package
subpackages="$pkgname-lang $pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/pdfarranger/pdfarranger/archive/$pkgver.tar.gz
	support-pikepdf6.patch"

build() {
	python3 setup.py build
}

package() {
	python3 setup.py install --root="$pkgdir" --optimize=1
}

sha512sums="
7d18f2c19b725532a29d80a19573db29c21049a0c6abac12b58855880ba031414b877bdb3bf333f2205eda1dbc08d62b258d783c7721564d18d29a5b62f8dfc5  pdfarranger-1.9.0.tar.gz
f6214a81c9327eb1935e8ea8fa35fe4bd367161606f74234c2128181901aa5ea09292996085ecaa9d810383d47277218fafcb51f8927cad3881ba4fb461264c6  support-pikepdf6.patch
"
