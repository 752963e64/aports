# Contributor: Hugo Osvaldo Barrera <hugo@whynothugo.nl>
# Maintainer: Hugo Osvaldo Barrera <hugo@whynothugo.nl>
pkgname=ublock-origin
pkgver=1.53.0
pkgrel=0
pkgdesc="Efficient blocker add-on for Firefox"
url="https://github.com/gorhill/uBlock"
arch="noarch"
license="GPL-3.0-or-later"
makedepends="git python3 zip bash"
source="ublock-origin-$pkgver.tar.gz::https://github.com/gorhill/uBlock/archive/refs/tags/$pkgver.tar.gz"
builddir="$srcdir/uBlock-$pkgver"
options="!check net" # no tests, build fetches assets

build() {
	make firefox
}

package() {
	install -Dm644 dist/build/uBlock0.firefox.xpi "$pkgdir/usr/lib/firefox/browser/extensions/uBlock0@raymondhill.net.xpi"
}

sha512sums="
cd479805061648ca425c690c7237441bb16392bf058b11c0739b5e0539feb2c7c3b0e21b9a9f5456a14f5c8742c092ff989c3d1d67f6bfadcae76dba8e1f8706  ublock-origin-1.53.0.tar.gz
"
