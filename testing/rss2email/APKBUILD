# Contributor: Guy Godfroy <guy.godfroy@gugod.fr>
# Maintainer: Guy Godfroy <guy.godfroy@gugod.fr>
pkgname=rss2email
pkgver=3.13.1
pkgrel=0
pkgdesc="Forwards RSS feeds to email address"
url="https://pypi.org/project/rss2email/"
arch="noarch"
license="GPL-2.0-only"
depends="python3 py3-feedparser py3-html2text"
makedepends="py3-setuptools"
source="https://files.pythonhosted.org/packages/source/r/rss2email/rss2email-$pkgver.tar.gz"

build() {
	python3 setup.py build
}

check() {
	cd test
	# Skip bad tests defined in test_reply_changes.py
	# https://github.com/rss2email/rss2email/issues/211
	python3 -m unittest test
}

package() {
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}

sha512sums="
ee8d684d025f06999d1fc37562dca1c622cba6a33e86d8247a715c7a1d0278af8e741b8a0a9eadc31c0d28c08bb742d956b41c42e0268346aa0b5f2a2604b10b  rss2email-3.13.1.tar.gz
"
