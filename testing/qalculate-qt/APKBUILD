# Contributor: Patrycja Rosa <alpine@ptrcnull.me>
# Maintainer: Patrycja Rosa <alpine@ptrcnull.me>
# version must be kept in sync with libqalculate
pkgname=qalculate-qt
pkgver=4.5.0
pkgrel=0
pkgdesc="Multi-purpose desktop calculator - Qt version"
url="https://github.com/Qalculate/qalculate-qt"
arch="all"
license="GPL-2.0-or-later"
depends="gnuplot"
makedepends="qt5-qtbase-dev qt5-qttools-dev libqalculate-dev"
subpackages="$pkgname-doc"
source="https://github.com/Qalculate/qalculate-qt/archive/v$pkgver/qalculate-qt-$pkgver.tar.gz"
options="!check" # no test suite

build() {
	qmake-qt5 PREFIX=/usr
	make
}

check() {
	make check
}

package() {
	make INSTALL_ROOT="$pkgdir" install
}

sha512sums="
cd9e42b046c61e38aa41dfe9c4874472b31e7a8ff8218d0dcdb7309b9b3e8b1a469d70606fe16c25a0101f1daef48c9edbf0689b700cc32140281cd091fb4c58  qalculate-qt-4.5.0.tar.gz
"
