# Contributor: Grigory Kirillov <txgk@bk.ru>
# Maintainer: Grigory Kirillov <txgk@bk.ru>
pkgname=newsraft
pkgver=0.4
pkgrel=0
pkgdesc="Feed reader with ncurses user interface"
url="https://codeberg.org/grisha/newsraft"
arch="all"
license="MIT"
options="!check" # no test suite
makedepends="
	ncurses-dev
	sqlite-dev
	curl-dev
	expat-dev
	yajl-dev
	gumbo-parser-dev
	meson
	samurai
	scdoc
	"
subpackages="$pkgname-doc"
source="https://codeberg.org/grisha/newsraft/archive/newsraft-$pkgver.tar.gz"
builddir="$srcdir/newsraft"

build() {
	abuild-meson builddir
	meson compile ${JOBS:+-j ${JOBS}} -C builddir
}

package() {
	DESTDIR="$pkgdir" meson install -C builddir
}

sha512sums="
7581515c6c192caa4fea4e20a15f9adc29a72ae5c1270adb2edf99cec7c93396d247495c47dd839d23b250514adb5bcf541d5d4664b643cac409d36480cfbea8  newsraft-0.4.tar.gz
"
