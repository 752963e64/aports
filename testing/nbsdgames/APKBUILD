# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=nbsdgames
pkgver=5
pkgrel=0
pkgdesc="A package of 18 text-based modern games"
url="https://github.com/abakh/nbsdgames"
arch="all"
license="custom"
options="!check"

makedepends="ncurses-dev"
subpackages="$pkgname-doc"
source="$pkgname-$pkgver.tar.gz::https://github.com/abakh/nbsdgames/archive/refs/tags/v$pkgver.tar.gz
	fix-makefile-path.patch"

build() {
	make all
}

package() {
	mkdir -p "$pkgdir"/usr/share/man/man6
	make DESTDIR="$pkgdir" manpages

	mkdir -p "$pkgdir"/usr/bin
	mkdir -p "$pkgdir"/var/games
	make DESTDIR="$pkgdir" install

	install -D LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

sha512sums="
04fcc7628b7310bcbebf8ae7e1462605b2a4aa3bc7c50758e8fc54836d18c3d320a1ba5c766d388912d8f9a7a49bf78ba654f1430fdda730daa80ff189f49ffc  nbsdgames-5.tar.gz
02c35c021b475d6d88e19c899d6aa78284411e5c7d7a3cbffa3f8d9a374acfe5403894a63a06c6e7e15c107fe81416c0c20597fe184784a682ba9b1af08ad261  fix-makefile-path.patch
"
