# Contributor: Patrycja Rosa <alpine@ptrcnull.me>
# Maintainer: Patrycja Rosa <alpine@ptrcnull.me>
pkgname=cpplint
pkgver=1.6.1
pkgrel=0
pkgdesc="Static code checker for C++"
url="https://github.com/cpplint/cpplint"
arch="noarch"
license="BSD-3-Clause"
depends="python3"
makedepends="py3-setuptools"
checkdepends="py3-pytest py3-pytest-runner py3-pytest-cov py3-testfixtures"
source="https://github.com/cpplint/cpplint/archive/refs/tags/$pkgver/cpplint-$pkgver.tar.gz
	relax-dependencies.patch
	remove-sre_compile.patch
	"

build() {
	python3 setup.py build
}

check() {
	pytest
}

package() {
	python3 setup.py install --skip-build --root="$pkgdir"
}

sha512sums="
be5c3c9044d862fc82e66987a76f3d01d5733c26774185fa3776b16943c3cb36d391bc20009940db744853df03614b47d88988c6823f8cda20b794b9075684cb  cpplint-1.6.1.tar.gz
63aee43d3b5839a9bc8ef119ec0831ad54018fd3a6661ab51153a21aafc3c89c32463114d88c3821b92214dfdb34269f656dd993b00a7fe1fc3d7419f725658d  relax-dependencies.patch
0a325aac30c451ab41305f21081d75525c1a370a0bc96f35b48b932a71270b5d89fb78d03946d0cdf1681d691db3a50f98c170f3a1a45e2db44aea906698a185  remove-sre_compile.patch
"
