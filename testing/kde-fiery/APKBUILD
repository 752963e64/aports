# Maintainer:
pkgname=kde-fiery
pkgver=1.0.0
pkgrel=0
pkgdesc="KDE Convergent web browser"
url="https://invent.kde.org/maui/fiery"
# qt5-qtwebengine
arch="x86_64 x86 aarch64 armv7"
license="LicenseRef-KDE-Accepted-LGPL"
makedepends="
	cmake
	extra-cmake-modules
	kcoreaddons-dev
	ki18n-dev
	mauikit-dev
	mauikit-filebrowsing-dev
	qt5-qtbase-dev
	qt5-qttools-dev
	qt5-qtwebengine-dev
	samurai
	"
source="https://invent.kde.org/maui/fiery/-/archive/v$pkgver/fiery-v$pkgver.tar.gz"
builddir="$srcdir/fiery-v$pkgver"
options="!check !spdx" # no tests
provides="kde-sol=$pkgver-r$pkgrel"
replaces="kde-sol"

build() {
	CXXFLAGS="$CXXFLAGS -flto=auto" \
	cmake -B build -G Ninja \
		-DCMAKE_BUILD_TYPE=RelWithDebInfo \
		-DCMAKE_INSTALL_PREFIX=/usr
	cmake --build build
}

package() {
	DESTDIR="$pkgdir" cmake --install build
}

sha512sums="
7b5fb1070e4a6a1e7f1fc13628e579a4b082dbf795d90f962f24a18f4525bfe4eac6cdfae78f82b155ae4eaf656e1375531100b099bcc7854642dca94ae559a2  fiery-v1.0.0.tar.gz
"
