Patch-Source: https://github.com/ipython/ipykernel/commit/edcac949bdebf0d3294abdb1e3c6fd09d0bc2281

From edcac949bdebf0d3294abdb1e3c6fd09d0bc2281 Mon Sep 17 00:00:00 2001
From: Min RK <benjaminrk@gmail.com>
Date: Fri, 1 Apr 2022 15:05:26 +0200
Subject: [PATCH] use packaging instead of pkg_resources to parse versions

requiring setuptools 60 causes compatibility problems with e.g. pandas
---
 ipykernel/eventloops.py              | 2 +-
 ipykernel/tests/test_message_spec.py | 2 +-
 setup.py                             | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/ipykernel/eventloops.py b/ipykernel/eventloops.py
index 6f486ace..fbf0c4ca 100644
--- a/ipykernel/eventloops.py
+++ b/ipykernel/eventloops.py
@@ -9,7 +9,7 @@
 from functools import partial
 
 import zmq
-from pkg_resources import parse_version as V
+from packaging.version import Version as V
 from traitlets.config.application import Application
 
 
diff --git a/ipykernel/tests/test_message_spec.py b/ipykernel/tests/test_message_spec.py
index c5df456f..c2195c09 100644
--- a/ipykernel/tests/test_message_spec.py
+++ b/ipykernel/tests/test_message_spec.py
@@ -9,7 +9,7 @@
 
 import jupyter_client
 import pytest
-from pkg_resources import parse_version as V
+from packaging.version import Version as V
 from traitlets import (
     Bool,
     Dict,
diff --git a/setup.py b/setup.py
index 1401021c..9c626e4d 100644
--- a/setup.py
+++ b/setup.py
@@ -71,7 +71,7 @@ def run(self):
         'appnope;platform_system=="Darwin"',
         "psutil",
         "nest_asyncio",
-        "setuptools>=60",  # for pkg_resources
+        "packaging",
     ],
     extras_require={
         "test": [
