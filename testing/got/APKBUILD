# Contributor: omni <omni+alpine@hack.org>
# Maintainer: omni <omni+alpine@hack.org>
pkgname=got
_pkgname=got-portable
pkgver=0.75.1
pkgrel=0
pkgdesc="A VCS which prioritizes ease of use and simplicity over flexibility"
url="https://gameoftrees.org/"
arch="all"
license="ISC"
makedepends="libbsd-dev libevent-dev util-linux-dev libressl-dev zlib-dev ncurses-dev"
options="!check"
subpackages="$pkgname-doc"
source="https://gameoftrees.org/releases/portable/got-portable-$pkgver.tar.gz"
builddir="$srcdir/$_pkgname-$pkgver"

build() {
	./configure --prefix=/usr --exec_prefix=/usr --mandir=/usr/share/man \
		--sysconfdir=/etc --localstatedir=/var
	make
}

check() {
	make tests
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
6561c92d27692a1a02d110e3e2b060a4acaa4494649b4bc93a535cf0710a97efaac0d240eb540832dd697281ec21718de0502e6675206acfef2c40b7d8a3ad6e  got-portable-0.75.1.tar.gz
"
