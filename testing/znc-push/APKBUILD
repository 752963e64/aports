# Contributor: Mike Crute <mike@crute.us>
# Maintainer: Mike Crute <mike@crute.us>
pkgname=znc-push
_pkgbase=2.0.0
_pkgsnap=20230108
pkgver=${_pkgbase}_git$_pkgsnap
pkgrel=0
pkgdesc="Push notification service module for ZNC"
url="https://wiki.znc.in/Push"
arch="noarch"
license="MIT"
depends="znc-modpython"
makedepends="python3-dev"
# Upstream does not release versions but they do tag their repo
_upstream_version_tag="2.0.0-rc"
source="$pkgname-$pkgver.tar.gz::https://github.com/jreese/znc-push/archive/v$_upstream_version_tag.tar.gz"
options="!check" # Upstream has no tests
builddir="$srcdir/$pkgname-$_upstream_version_tag"

build() {
	make
}

package() {
	install -D -m644 "$builddir"/push.pyc "$pkgdir"/usr/lib/znc/push.pyc
}

sha512sums="
9715ed0d9c5f49dfc71c05e5773cec2f626570d27a7ae275e28dca34b523eca3bc272d635bed92c1d97982ed626029fa1a3f47b9bac3bbb16b0e2f2487d75047  znc-push-2.0.0_git20230108.tar.gz
"
