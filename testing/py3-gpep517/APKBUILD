# Contributor: psykose <alice@ayaya.dev>
# Maintainer: psykose <alice@ayaya.dev>
pkgname=py3-gpep517
_pkgname=gpep517
pkgver=7
pkgrel=0
pkgdesc="Minimal backend script to aid installing Python packages through PEP 517-compliant build systems"
url="https://github.com/mgorny/gpep517/"
arch="noarch"
license="MIT"
# python 3.11: remove py3-tomli
depends="py3-installer py3-tomli python3"
source="https://github.com/mgorny/gpep517/archive/v$pkgver/gpep517-v$pkgver.tar.gz"
builddir="$srcdir/$_pkgname-$pkgver"
options="!check" # skip check since intended to be a low-level bootstrap package

package() {
	local sitedir="$(python3 -c 'import site;print(site.getsitepackages()[0])')"
	mkdir -p "$pkgdir/$sitedir"
	cp -a gpep517 "$pkgdir/$sitedir"
}

sha512sums="
d6a36c83ede5525c598390000ced6c36cfb258289626e35f8eccfff4aada5871a8a0b9b53b09379e3ab63782a903eaa4396cfb089e3d30f49e3ef6eb0bfcc351  gpep517-v7.tar.gz
"
