From 22c694ab0335a1e6146d0d3f939ef79d2c005a3d Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=B6rg=20Thalheim?= <Mic92@users.noreply.github.com>
Date: Wed, 9 Feb 2022 11:55:25 +0000
Subject: [PATCH] Fix upload test when /tmp is empty (#318)

---
 .../v1beta1/cluster/uploadfile_test.go        | 20 +++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

diff --git a/pkg/apis/k0sctl.k0sproject.io/v1beta1/cluster/uploadfile_test.go b/pkg/apis/k0sctl.k0sproject.io/v1beta1/cluster/uploadfile_test.go
index f3e0edb..1c796f8 100644
--- a/pkg/apis/k0sctl.k0sproject.io/v1beta1/cluster/uploadfile_test.go
+++ b/pkg/apis/k0sctl.k0sproject.io/v1beta1/cluster/uploadfile_test.go
@@ -10,8 +10,8 @@ import (
 func TestPermStringUnmarshalWithOctal(t *testing.T) {
 	u := UploadFile{}
 	yml := []byte(`
-src: /tmp
-dstDir: /tmp
+src: .
+dstDir: .
 perm: 0755
 `)
 
@@ -22,8 +22,8 @@ perm: 0755
 func TestPermStringUnmarshalWithString(t *testing.T) {
 	u := UploadFile{}
 	yml := []byte(`
-src: /tmp
-dstDir: /tmp
+src: .
+dstDir: .
 perm: "0755"
 `)
 
@@ -34,8 +34,8 @@ perm: "0755"
 func TestPermStringUnmarshalWithInvalidString(t *testing.T) {
 	u := UploadFile{}
 	yml := []byte(`
-src: /tmp
-dstDir: /tmp
+src: .
+dstDir: .
 perm: u+rwx
 `)
 
@@ -45,8 +45,8 @@ perm: u+rwx
 func TestPermStringUnmarshalWithInvalidNumber(t *testing.T) {
 	u := UploadFile{}
 	yml := []byte(`
-src: /tmp
-dstDir: /tmp
+src: .
+dstDir: .
 perm: 0800
 `)
 
@@ -56,8 +56,8 @@ perm: 0800
 func TestPermStringUnmarshalWithZero(t *testing.T) {
 	u := UploadFile{}
 	yml := []byte(`
-src: /tmp
-dstDir: /tmp
+src: .
+dstDir: .
 perm: 0
 `)
 
-- 
2.36.1

