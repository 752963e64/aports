# Contributor: Peter Shkenev <santurysim@gmail.com>
# Maintainer: Peter Shkenev <santurysim@gmail.com>
pkgname=gajim
pkgver=1.1.3
pkgrel=3
pkgdesc="A full featured and easy to use XMPP client"
url="https://gajim.org/"
arch="noarch"
license="GPL-3.0-only"
depends="
	py3-cairo py3-gobject3 py3-asn1 py3-nbxmpp py3-openssl
	py3-precis-i18n py3-keyring py3-cssutils gtk+3.0
	"
makedepends="py3-setuptools python3-dev gettext-dev py3-wheel py3-pip"
checkdepends="xvfb xvfb-run dbus dbus-x11"
source="
	https://gajim.org/downloads/${pkgver:0:3}/gajim-$pkgver.tar.bz2
	"
subpackages="$pkgname-doc $pkgname-lang"

build() {
	python3 setup.py build
}

check() {
	xvfb-run python3 setup.py test
}

package() {
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}


sha512sums="18062832f9b9295c7a844c347d5ece4a6db43126d5b58bbf362fdf2f8e082e2241c46dae6d1cbe66ebf2ef19f65618102c3c21fa0079a96fc21511e6e93420ac  gajim-1.1.3.tar.bz2"
