# Contributor: Fabian Affolter <fabian@affolter-engineering.ch>
# Maintainer: Fabian Affolter <fabian@affolter-engineering.ch>
pkgname=py3-ujson
pkgver=2.0.1
pkgrel=0
pkgdesc="Fast Python JSON encoder and decoder"
url="https://github.com/ultrajson/ultrajson"
arch="all"
license="BSD-3-Clause"
makedepends="py3-setuptools python3-dev"
checkdepends="py3-tz py3-six"
source="https://pypi.io/packages/source/u/ujson/ujson-$pkgver.tar.gz"
builddir="$srcdir"/ujson-$pkgver

build() {
	python3 setup.py build
}

check() {
	PYTHONPATH="$(echo $PWD/build/lib.*)" python3 tests/test_ujson.py
}

package() {
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}

sha512sums="b17826cb6fb5731bf7c152e9b491edef7f94cc08a90af74d1685aafaec353092e7d5afa9988c93ee6889162d5a4db9da5393b4a2eecaff39ba5f1e029a847e3a  ujson-2.0.1.tar.gz"
