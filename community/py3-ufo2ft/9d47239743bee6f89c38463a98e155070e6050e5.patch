Upstream: Yes
From 9d47239743bee6f89c38463a98e155070e6050e5 Mon Sep 17 00:00:00 2001
From: Cosimo Lupo <clupo@google.com>
Date: Thu, 21 May 2020 13:43:33 +0100
Subject: [PATCH] tests: fix expected integration test data after fonttools
 update

---
 tests/data/Bug108.ttx                         |  2 +-
 tests/data/MTIFeatures.ttx                    |  2 +-
 tests/data/TestFont-CFF.ttx                   |  4 +-
 tests/data/TestFont-NoOptimize-CFF.ttx        |  4 +-
 .../data/TestFont-NoOverlaps-CFF-pathops.ttx  |  4 +-
 tests/data/TestFont-NoOverlaps-CFF.ttx        |  4 +-
 .../data/TestFont-NoOverlaps-TTF-pathops.ttx  |  4 +-
 tests/data/TestFont-NoOverlaps-TTF.ttx        |  4 +-
 tests/data/TestFont-Specialized-CFF.ttx       |  4 +-
 tests/data/TestFont.ttx                       |  4 +-
 ...stVariableFont-CFF2-useProductionNames.ttx |  2 +-
 tests/data/TestVariableFont-CFF2.ttx          |  2 +-
 ...estVariableFont-TTF-useProductionNames.ttx | 14 +++----
 tests/data/TestVariableFont-TTF.ttx           | 40 +++++++++----------
 14 files changed, 47 insertions(+), 47 deletions(-)

diff --git a/tests/data/Bug108.ttx b/tests/data/Bug108.ttx
index 812daad..90d792f 100644
--- a/tests/data/Bug108.ttx
+++ b/tests/data/Bug108.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="3.7">
+<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="4.10">
 
   <GPOS>
     <Version value="0x00010000"/>
diff --git a/tests/data/MTIFeatures.ttx b/tests/data/MTIFeatures.ttx
index 41ed236..1f146e4 100644
--- a/tests/data/MTIFeatures.ttx
+++ b/tests/data/MTIFeatures.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="3.7">
+<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="4.10">
 
   <GSUB>
     <Version value="0x00010000"/>
diff --git a/tests/data/TestFont-CFF.ttx b/tests/data/TestFont-CFF.ttx
index 0f71757..a5462ad 100644
--- a/tests/data/TestFont-CFF.ttx
+++ b/tests/data/TestFont-CFF.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="OTTO">
+<ttFont sfntVersion="OTTO" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -417,7 +417,7 @@
       <!-- LookupCount=1 -->
       <Lookup index="0">
         <LookupType value="2"/>
-        <LookupFlag value="8"/>
+        <LookupFlag value="8"/><!-- ignoreMarks -->
         <!-- SubTableCount=1 -->
         <PairPos index="0" Format="1">
           <Coverage Format="1">
diff --git a/tests/data/TestFont-NoOptimize-CFF.ttx b/tests/data/TestFont-NoOptimize-CFF.ttx
index 937ea7c..780064b 100644
--- a/tests/data/TestFont-NoOptimize-CFF.ttx
+++ b/tests/data/TestFont-NoOptimize-CFF.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="OTTO" ttLibVersion="3.31">
+<ttFont sfntVersion="OTTO" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -436,7 +436,7 @@
       <!-- LookupCount=1 -->
       <Lookup index="0">
         <LookupType value="2"/>
-        <LookupFlag value="8"/>
+        <LookupFlag value="8"/><!-- ignoreMarks -->
         <!-- SubTableCount=1 -->
         <PairPos index="0" Format="1">
           <Coverage Format="1">
diff --git a/tests/data/TestFont-NoOverlaps-CFF-pathops.ttx b/tests/data/TestFont-NoOverlaps-CFF-pathops.ttx
index 3dd6d79..696dc6d 100644
--- a/tests/data/TestFont-NoOverlaps-CFF-pathops.ttx
+++ b/tests/data/TestFont-NoOverlaps-CFF-pathops.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="OTTO" ttLibVersion="3.29">
+<ttFont sfntVersion="OTTO" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -418,7 +418,7 @@
       <!-- LookupCount=1 -->
       <Lookup index="0">
         <LookupType value="2"/>
-        <LookupFlag value="8"/>
+        <LookupFlag value="8"/><!-- ignoreMarks -->
         <!-- SubTableCount=1 -->
         <PairPos index="0" Format="1">
           <Coverage Format="1">
diff --git a/tests/data/TestFont-NoOverlaps-CFF.ttx b/tests/data/TestFont-NoOverlaps-CFF.ttx
index 5bdd2ca..302debb 100644
--- a/tests/data/TestFont-NoOverlaps-CFF.ttx
+++ b/tests/data/TestFont-NoOverlaps-CFF.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="OTTO">
+<ttFont sfntVersion="OTTO" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -419,7 +419,7 @@
       <!-- LookupCount=1 -->
       <Lookup index="0">
         <LookupType value="2"/>
-        <LookupFlag value="8"/>
+        <LookupFlag value="8"/><!-- ignoreMarks -->
         <!-- SubTableCount=1 -->
         <PairPos index="0" Format="1">
           <Coverage Format="1">
diff --git a/tests/data/TestFont-NoOverlaps-TTF-pathops.ttx b/tests/data/TestFont-NoOverlaps-TTF-pathops.ttx
index f9483d9..9dbe2b8 100644
--- a/tests/data/TestFont-NoOverlaps-TTF-pathops.ttx
+++ b/tests/data/TestFont-NoOverlaps-TTF-pathops.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="3.29">
+<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -512,7 +512,7 @@
       <!-- LookupCount=1 -->
       <Lookup index="0">
         <LookupType value="2"/>
-        <LookupFlag value="8"/>
+        <LookupFlag value="8"/><!-- ignoreMarks -->
         <!-- SubTableCount=1 -->
         <PairPos index="0" Format="1">
           <Coverage Format="1">
diff --git a/tests/data/TestFont-NoOverlaps-TTF.ttx b/tests/data/TestFont-NoOverlaps-TTF.ttx
index c0ffbc5..f66fd0a 100644
--- a/tests/data/TestFont-NoOverlaps-TTF.ttx
+++ b/tests/data/TestFont-NoOverlaps-TTF.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="\x00\x01\x00\x00">
+<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -512,7 +512,7 @@
       <!-- LookupCount=1 -->
       <Lookup index="0">
         <LookupType value="2"/>
-        <LookupFlag value="8"/>
+        <LookupFlag value="8"/><!-- ignoreMarks -->
         <!-- SubTableCount=1 -->
         <PairPos index="0" Format="1">
           <Coverage Format="1">
diff --git a/tests/data/TestFont-Specialized-CFF.ttx b/tests/data/TestFont-Specialized-CFF.ttx
index 92d0c00..114adff 100644
--- a/tests/data/TestFont-Specialized-CFF.ttx
+++ b/tests/data/TestFont-Specialized-CFF.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="OTTO" ttLibVersion="3.31">
+<ttFont sfntVersion="OTTO" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -414,7 +414,7 @@
       <!-- LookupCount=1 -->
       <Lookup index="0">
         <LookupType value="2"/>
-        <LookupFlag value="8"/>
+        <LookupFlag value="8"/><!-- ignoreMarks -->
         <!-- SubTableCount=1 -->
         <PairPos index="0" Format="1">
           <Coverage Format="1">
diff --git a/tests/data/TestFont.ttx b/tests/data/TestFont.ttx
index 9add027..fb820cf 100644
--- a/tests/data/TestFont.ttx
+++ b/tests/data/TestFont.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="\x00\x01\x00\x00">
+<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -510,7 +510,7 @@
       <!-- LookupCount=1 -->
       <Lookup index="0">
         <LookupType value="2"/>
-        <LookupFlag value="8"/>
+        <LookupFlag value="8"/><!-- ignoreMarks -->
         <!-- SubTableCount=1 -->
         <PairPos index="0" Format="1">
           <Coverage Format="1">
diff --git a/tests/data/TestVariableFont-CFF2-useProductionNames.ttx b/tests/data/TestVariableFont-CFF2-useProductionNames.ttx
index 4f5a07a..639c5c3 100644
--- a/tests/data/TestVariableFont-CFF2-useProductionNames.ttx
+++ b/tests/data/TestVariableFont-CFF2-useProductionNames.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="OTTO" ttLibVersion="3.41">
+<ttFont sfntVersion="OTTO" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
diff --git a/tests/data/TestVariableFont-CFF2.ttx b/tests/data/TestVariableFont-CFF2.ttx
index a0312b9..ddb4feb 100644
--- a/tests/data/TestVariableFont-CFF2.ttx
+++ b/tests/data/TestVariableFont-CFF2.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="OTTO" ttLibVersion="3.41">
+<ttFont sfntVersion="OTTO" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
diff --git a/tests/data/TestVariableFont-TTF-useProductionNames.ttx b/tests/data/TestVariableFont-TTF-useProductionNames.ttx
index 2c6a8c3..c9e83df 100644
--- a/tests/data/TestVariableFont-TTF-useProductionNames.ttx
+++ b/tests/data/TestVariableFont-TTF-useProductionNames.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="3.41">
+<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -659,6 +659,12 @@
         <delta pt="15" x="0" y="0"/>
       </tuple>
     </glyphVariations>
+    <glyphVariations glyph="uni0117">
+      <tuple>
+        <coord axis="wght" value="1.0"/>
+        <delta pt="1" x="-6" y="91"/>
+      </tuple>
+    </glyphVariations>
     <glyphVariations glyph="uni0307">
       <tuple>
         <coord axis="wght" value="1.0"/>
@@ -672,12 +678,6 @@
         <delta pt="7" x="0" y="0"/>
       </tuple>
     </glyphVariations>
-    <glyphVariations glyph="uni0117">
-      <tuple>
-        <coord axis="wght" value="1.0"/>
-        <delta pt="1" x="-6" y="91"/>
-      </tuple>
-    </glyphVariations>
   </gvar>
 
 </ttFont>
diff --git a/tests/data/TestVariableFont-TTF.ttx b/tests/data/TestVariableFont-TTF.ttx
index 25ae161..80382c0 100644
--- a/tests/data/TestVariableFont-TTF.ttx
+++ b/tests/data/TestVariableFont-TTF.ttx
@@ -1,5 +1,5 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="3.41">
+<ttFont sfntVersion="\x00\x01\x00\x00" ttLibVersion="4.10">
 
   <GlyphOrder>
     <!-- The 'id' attribute is only for humans; it is ignored when parsed. -->
@@ -593,6 +593,19 @@
         <delta pt="21" x="0" y="0"/>
       </tuple>
     </glyphVariations>
+    <glyphVariations glyph="dotabovecomb">
+      <tuple>
+        <coord axis="wght" value="1.0"/>
+        <delta pt="0" x="-8" y="28"/>
+        <delta pt="1" x="13" y="16"/>
+        <delta pt="2" x="17" y="-13"/>
+        <delta pt="3" x="-27" y="-20"/>
+        <delta pt="4" x="0" y="0"/>
+        <delta pt="5" x="0" y="0"/>
+        <delta pt="6" x="0" y="0"/>
+        <delta pt="7" x="0" y="0"/>
+      </tuple>
+    </glyphVariations>
     <glyphVariations glyph="e">
       <tuple>
         <coord axis="wght" min="0.0" value="0.36365" max="1.0"/>
@@ -635,6 +648,12 @@
         <delta pt="16" x="0" y="0"/>
       </tuple>
     </glyphVariations>
+    <glyphVariations glyph="edotabove">
+      <tuple>
+        <coord axis="wght" value="1.0"/>
+        <delta pt="1" x="-6" y="91"/>
+      </tuple>
+    </glyphVariations>
     <glyphVariations glyph="s">
       <tuple>
         <coord axis="wght" value="1.0"/>
@@ -656,25 +675,6 @@
         <delta pt="15" x="0" y="0"/>
       </tuple>
     </glyphVariations>
-    <glyphVariations glyph="dotabovecomb">
-      <tuple>
-        <coord axis="wght" value="1.0"/>
-        <delta pt="0" x="-8" y="28"/>
-        <delta pt="1" x="13" y="16"/>
-        <delta pt="2" x="17" y="-13"/>
-        <delta pt="3" x="-27" y="-20"/>
-        <delta pt="4" x="0" y="0"/>
-        <delta pt="5" x="0" y="0"/>
-        <delta pt="6" x="0" y="0"/>
-        <delta pt="7" x="0" y="0"/>
-      </tuple>
-    </glyphVariations>
-    <glyphVariations glyph="edotabove">
-      <tuple>
-        <coord axis="wght" value="1.0"/>
-        <delta pt="1" x="-6" y="91"/>
-      </tuple>
-    </glyphVariations>
   </gvar>
 
 </ttFont>
