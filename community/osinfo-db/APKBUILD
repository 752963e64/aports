# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=osinfo-db
pkgver=20201218
pkgrel=0
pkgdesc="osinfo database files"
url="https://libosinfo.org/"
arch="noarch"
license="LGPL-2.0-or-later"
makedepends="osinfo-db-tools"
source="https://releases.pagure.org/libosinfo/osinfo-db-$pkgver.tar.xz
	0001-alpinelinux-add-3.9.patch
	0002-alpinelinux-add-3.10.patch
	0003-alpinelinux-add-3.11.patch
	0004-alpinelinux-add-3.12.patch
	0005-alpinelinux-add-3.13.patch
	"

check() {
	osinfo-db-validate --dir "$builddir"
}

package() {
	osinfo-db-import --root "$pkgdir" \
		--dir /usr/share/osinfo "$srcdir"/osinfo-db-$pkgver.tar.xz
}

sha512sums="9b2438110df5df0cf48eda74f76776b47b7ec438c549a151e2d6985e959723bdc9070f18751d19e37b2877e19a10f9365a622e50225f944ebd79dae463820338  osinfo-db-20201218.tar.xz
3ab74b8d00e2820d0bec0d5f74b1a0099dc067d3b7244eefcb156bbd371bc1ad02ed1bae011c4afe4dec6ce02091ecc4a9f3bfd241f3210810aaa168326c0243  0001-alpinelinux-add-3.9.patch
2502be688b21087cd8878bced37e83953d2b48604f6619f65efaa99074df9a48a7cf6cfc6515b3a576af8311a03727cfa78c9d98ba0867f1eac1df1b4619f9be  0002-alpinelinux-add-3.10.patch
aee958d21fc8486757eb03056912c8af468373cac25d4226699bccb422bd76e014cf48a1c61369aed89a75f0205e56600bb31ef53ffb4ad7c2df933a8a83c0f1  0003-alpinelinux-add-3.11.patch
c24005f9087dc2b570e887506c06521bc17c91f95dfab1f6bb6511a5e474da11e197a4e9ce5460506627c87d1c2c9c997875eead9e8254dcb64e605ccdc7f1a1  0004-alpinelinux-add-3.12.patch
420c40a71df71b89f142eaa790f184ffaaff9565b03be268a4a754fdf53393663e7813fdfe00140602fd27c175861709569a69c2eb2d2916c64e51e6bf4121db  0005-alpinelinux-add-3.13.patch"
