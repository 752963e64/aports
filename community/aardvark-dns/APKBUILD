# Contributor: Michał Polański <michal@polanski.me>
# Maintainer: Michał Polański <michal@polanski.me>
pkgname=aardvark-dns
pkgver=1.0.0
pkgrel=0
pkgdesc="Authoritative DNS server for A/AAAA container records"
url="https://github.com/containers/aardvark-dns"
license="Apache-2.0"
arch="all !s390x !riscv64" # blocked by rust/cargo
makedepends="cargo"
source="https://github.com/containers/aardvark-dns/archive/v$pkgver/aardvark-dns-$pkgver.tar.gz
	minimize-size.patch
	"
options="!check" # no test suite

build() {
	make
}

package() {
	make DESTDIR="$pkgdir" PREFIX=/usr install
}

sha512sums="
06cc6d3082fd1ec7030536ed4b806535f617e61db34f1546f81e65648651bfa52d8a8d3706f98861fd0c78651b27605210faacad80e05f6e975d1d6685f1483a  aardvark-dns-1.0.0.tar.gz
7587a990cca3403cde7c86ac3e08016c79de9f7a8b23e50ede5e37149e173e2993303bfb19120eb4a68e8e1ac1e641988955cb652dec50682376b811aa847311  minimize-size.patch
"
