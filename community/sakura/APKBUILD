# Contributor: Niko Dittmann <mail@niko-dittmann.com>
# Contributor: Patrycja Rosa <alpine@ptrcnull.me>
# Contributor: Dominika Liberda <ja@sdomi.pl>
# Maintainer: Patrycja Rosa <alpine@ptrcnull.me>
pkgname=sakura
pkgver=3.8.4
pkgrel=2
pkgdesc="Sakura Terminal Emulator"
url="https://launchpad.net/sakura"
arch="all"
license="GPL-2.0-only"
makedepends="
	cmake
	gettext-dev
	glib-dev
	gtk+3.0-dev
	pango-dev
	pcre2-dev
	samurai
	vte3-dev
"
subpackages="$pkgname-doc $pkgname-lang"
source="https://launchpad.net/sakura/trunk/$pkgver/+download/sakura-$pkgver.tar.bz2
	restore-copy-and-paste-to-primary-selection.patch"
options="!check" # no tests provided by upstream

build() {
	cmake -B build -G Ninja \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_BUILD_TYPE=MinSizeRel
	cmake --build build
}

package() {
	DESTDIR="$pkgdir" cmake --install build
}

sha512sums="
9450f523555a40c66375304cb4134686dddd1b15233a70e488d1220fbdacd46b8e93cb679bbd1c235cc8d08f08551743b4780130d282d94d258247436a84ed61  sakura-3.8.4.tar.bz2
dc4555992a6279a8d7b00de2d674ff0785b766d2e5bdce03fef23f82fe7733c61f393ee6fc63120c53743568466d1d56f50f26c95163fc0ec96bf4fdb04ee2e0  restore-copy-and-paste-to-primary-selection.patch
"
