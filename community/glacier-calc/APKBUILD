# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Bart Ribbers <bribbers@disroot.org>
pkgname=glacier-calc
pkgver=0.3.1_git20211031
pkgrel=0
_commit="48ebea87abda47b9dd875bcae4e3d185c4e5abe3"
pkgdesc="The Glacier calculator"
url="https://github.com/nemomobile-ux/glacier-calc"
arch="all !armhf" # armhf blocked by qt5-qtdeclarative
license="BSD-3-Clause"
depends="qtquickcontrols-nemo"
makedepends="
	cmake
	libglacierapp-dev
	qt5-qtbase-dev
	qt5-qtdeclarative-dev
	qt5-qttools-dev
	"
source="https://github.com/nemomobile-ux/glacier-calc/archive/$_commit/glacier-calc-$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

build() {
	cmake -B build \
		-DCMAKE_BUILD_TYPE=None \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_INSTALL_LIBDIR=lib
	cmake --build build
}

package() {
	DESTDIR="$pkgdir" cmake --install build
}

sha512sums="
242086793aa3d9dc586e86821b95ff86d62c001a1f9475142f9289a2506c2ea296d95d72916c25a2a931a8add779c12ccae8fa6d33f624a824caa425c4718ff8  glacier-calc-48ebea87abda47b9dd875bcae4e3d185c4e5abe3.tar.gz
"
