# Maintainer: Drew DeVault <sir@cmpwn.com>
pkgname=harec
pkgver="0_git20220423"
_commit=c1caaf00bea2415724b969633cca2e3b2b51a4e6
pkgrel=0
pkgdesc="The Hare compiler"
url="https://harelang.org"
arch="x86_64 aarch64 riscv64"
license="GPL-3.0-only"
depends="qbe"
source="
	$pkgname-$_commit.tar.gz::https://git.sr.ht/~sircmpwn/harec/archive/$_commit.tar.gz
"
builddir="$srcdir/$pkgname-$_commit"

build() {
	./configure --prefix=/usr
	make
}

check() {
	make check
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
38cb341ac4ecb84f266f95d5e24ab0e52a0e1c23d5ea2bb8badf7dd3bccc840205b3e30a4aaf14f4e4927a9c08ccb1be816533b44e5e395ba7fb237ccd55c9fc  harec-c1caaf00bea2415724b969633cca2e3b2b51a4e6.tar.gz
"
