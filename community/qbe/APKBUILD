# Maintainer: Drew DeVault <sir@cmpwn.com>
pkgname="qbe"
pkgver="0_git20220614"
_commit=6cd5f7028647a88935ec1f7776a08b51eb0fb1c8
pkgrel=0
pkgdesc="A simple C compiler backend"
url="https://c9x.me/compile/"
arch="x86_64 aarch64 riscv64"
license="MIT"
source="$pkgname-$pkgver.tar.gz::https://c9x.me/git/qbe.git/snapshot/qbe-$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

build() {
	make PREFIX=/usr
}

check() {
	make check
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" install
}

sha512sums="
54aa3b84ed82bcc40959494a03f82e921621c96004c0856674dfcbbdcb84b9ee1c0d08a19029050b85105e4de64083fcc24c36eba8c610cf81a31d9c63caf9ed  qbe-0_git20220614.tar.gz
"
