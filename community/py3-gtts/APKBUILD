# Contributor: Bart Ribbers <bribbers@disroot.org>
# Maintainer: Bart Ribbers <bribbers@disroot.org>
pkgname=py3-gtts
pkgver=2.1.2
pkgrel=0
pkgdesc="A Python library and CLI tool to interface with Google Translate text-to-speech API"
url="https://github.com/pndurette/gTTS"
arch="noarch"
license="MIT"
depends="python3 py3-twine py3-gtts-token py3-click py3-beautifulsoup4"
makedepends="py3-setuptools"
checkdepends="
	py3-mock
	py3-pytest
	py3-testfixtures
	"
source="https://pypi.python.org/packages/source/g/gTTS/gTTS-$pkgver.tar.gz"
# Net required for tests
# Tests fail currently https://github.com/pndurette/gTTS/issues/220
options="!check"
builddir="$srcdir/gTTS-$pkgver"

build() {
	python3 setup.py build
}

check() {
	pytest
}

package() {
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}

sha512sums="4df8ea92491b2835d41780d7c13240560d42316f03655efc6a487d70977718ab8fbb748a297010d547e9266ed17bf428d9ba2973190d34f5e5e07e358afe9df3  gTTS-2.1.2.tar.gz"
