# Contributor: Francesco Colista <fcolista@alpinelinux.org>
# Contributor: Jakub Jirutka <jakub@jirutka.cz>
# Maintainer: Francesco Colista <fcolista@alpinelinux.org>
pkgname=font-awesome
_pkgname=Font-Awesome
pkgver=6.1.1
_majorver=${pkgver%%.*}
pkgrel=1
pkgdesc="Iconic font set"
url="https://fontawesome.com"
arch="noarch"
license="OFL-1.1"
depends="
	$pkgname-brands=$pkgver-r$pkgrel
	$pkgname-free=$pkgver-r$pkgrel
	"
provides="ttf-font-awesome=$pkgver-r$pkgrel"  # for backward compatibility (Alpine <3.17)
subpackages="
	$pkgname-brands
	$pkgname-free
	"
source="https://github.com/FortAwesome/Font-Awesome/archive/$pkgver/$pkgname-$pkgver.tar.gz
	Trademarks.md
	"
builddir="$srcdir/$_pkgname-$pkgver"
options="!check"  # N/A

package() {
	mkdir -p "$pkgdir"
}

brands() {
	pkgdesc="The Font Awesome $_majorver Brands icons font (OTF)"
	depends="fontconfig"

	cd "$builddir"
	install -D -m644 otfs/*Brands-*.otf -t "$subpkgdir"/usr/share/fonts/$pkgname/
	install -D -m644 "$srcdir"/Trademarks.md -t "$subpkgdir"/usr/share/licenses/$pkgname/
}

free() {
	pkgdesc="The Font Awesome $_majorver Free icons font (OTF)"
	depends="fontconfig"

	cd "$builddir"
	install -D -m644 otfs/*Free-*.otf -t "$subpkgdir"/usr/share/fonts/$pkgname/
}

sha512sums="
cde1b1bef93349d3c8b965d75f7bb37007470ebc71194028bbac155dc703f00b2a99175ac0407bf5562dc414712d80bd7cf59d347a445bfe07079c0ac9d784de  font-awesome-6.1.1.tar.gz
b600d90f93d7f9da6dcb6ac3640489a112fdf687b15139d82f092e1c6208236906019888c1b987a1df8835a4133a4660f49d3503836e1e1fac4ad46b9a8c0ec3  Trademarks.md
"
