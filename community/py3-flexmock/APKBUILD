# Contributor: Michał Polański <michal@polanski.me>
# Maintainer: Michał Polański <michal@polanski.me>
pkgname=py3-flexmock
pkgver=0.11.2
pkgrel=0
pkgdesc="Testing library for creating mocks, stubs and fakes"
url="https://github.com/flexmock/flexmock"
license="BSD-2-Clause"
arch="noarch"
depends="python3"
makedepends="py3-setuptools"
checkdepends="py3-pytest"
source="https://github.com/flexmock/flexmock/archive/$pkgver/py3-flexmock-$pkgver.tar.gz
	tests.patch
	"
builddir="$srcdir/flexmock-$pkgver"

build() {
	python3 setup.py build
}

check() {
	PYTHONPATH="$PWD"/build/lib pytest
}

package() {
	python3 setup.py install --root="$pkgdir" --skip-build
}

sha512sums="
cba7bef955bf5241b14dfa4672579b7ad32eb9b1a40f9ea89a0e78d63f9086441695367aedbeb9851d93aa7cfdec5cacd518d6c472c19cf19e509884ff0be6dd  py3-flexmock-0.11.2.tar.gz
e65441a2fbfb80efbb36fe4cc19457ab3341bcf34cb54a2a2fb3515cebd9100f3f6771987b13827d5533cba6f2c4b3c017ed9ad01334571c9c8915fd0f27c54c  tests.patch
"
