Author: Nick Black <dankamongmen@gmail.com>
URL: https://github.com/dankamongmen/notcurses/commit/ea41c5ebafc3ebeeaae406fb2f0754468f0b7e9c
Subject: Fixes cell_extended_p() test on big-endian, exposed by new unit test
diff -ur notcurses-2.3.7+dfsg.1/src/lib/egcpool.h notcurses-2.3.7+dfsg.1-new/src/lib/egcpool.h
--- notcurses-2.3.7+dfsg.1/src/lib/egcpool.h	2021-06-29 07:10:22.000000000 -0400
+++ notcurses-2.3.7+dfsg.1-new/src/lib/egcpool.h	2021-06-29 10:05:56.225656453 -0400
@@ -253,7 +253,7 @@
 // Is the cell a spilled (more than 4 byte) UTF8 EGC?
 static inline bool
 cell_extended_p(const nccell* c){
-  return (htole(c->gcluster) & htole(0xff000000ul)) == htole(0x01000000ul);
+  return (htole(c->gcluster) & 0xff000000ul) == 0x01000000ul;
 }
 
 // Is the cell simple (a UTF8-encoded EGC of four bytes or fewer)?
