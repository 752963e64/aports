# Automatically generated by apkbuild-cpan, template 3
# Contributor: Timothy Legge <timlegge@gmail.com>
# Maintainer: Timothy Legge <timlegge@gmail.com>
pkgname=perl-webservice-slack-webapi
#_pkgreal is used by apkbuild-cpan to find modules at MetaCpan
_pkgreal=WebService-Slack-WebApi
pkgver=0.15
pkgrel=0
pkgdesc="a simple wrapper for Slack Web API"
url="https://metacpan.org/release/WebService-Slack-WebApi/"
arch="noarch"
license="MIT"
depends="perl perl-data-validator perl-furl perl-http-message perl-class-accessor-lite-lazy perl-class-load perl-exception-tiny perl-io-socket-ssl perl-json-xs"
makedepends="perl-dev perl-module-build-tiny perl-module-build"
checkdepends="perl-test-mock-furl perl-devel-cover-report-coveralls perl-test-exception"
subpackages="$pkgname-doc"
source="https://cpan.metacpan.org/authors/id/M/MI/MIHYAERU/WebService-Slack-WebApi-$pkgver.tar.gz"
builddir="$srcdir/$_pkgreal-$pkgver"

build() {
	export CFLAGS=$(perl -MConfig -E 'say $Config{ccflags}')
	perl Build.PL --installdirs=vendor
	./Build
}

check() {
	./Build test
}

package() {
	./Build install --destdir="$pkgdir"
	find "$pkgdir" \( -name perllocal.pod -o -name .packlist \) -delete
}

sha512sums="e5b80b1879774de8d838dd9b88cd8f4eb90097a4dd1db7389e1797a9705811defc24aa6f1c1ab9619341898811d022ebc3fe100d2e2b73be59c8babef2fc0e73  WebService-Slack-WebApi-0.15.tar.gz"
