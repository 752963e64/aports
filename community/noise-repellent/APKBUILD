# Contributor: Magnus Sandin <magnus.sandin@gmail.com>
# Maintainer: Magnus Sandin <magnus.sandin@gmail.com>
pkgname=noise-repellent
pkgver=0.2.2
pkgrel=0
pkgdesc="An lv2 plug-in for broadband noise reduction"
url="https://github.com/lucianodato/noise-repellent"
arch="all !armhf !armv7 !ppc64le !s390x !riscv64" # -msse2
license="LGPL-3.0-only"
depends="libspecbleach"
makedepends="
	cmake
	fftw-dev
	libspecbleach-dev
	libsndfile-dev
	lv2-dev
	meson
	"
source="noise-repellent-$pkgver.tar.gz::https://github.com/lucianodato/noise-repellent/archive/refs/tags/v$pkgver.tar.gz"
options="!check" # No tests available

build() {
	abuild-meson \
		--buildtype=release \
		--prefix=/usr/lib \
		. output
	meson compile -C output -v
}

package() {
	DESTDIR="$pkgdir" meson install --no-rebuild -C output
}

sha512sums="
68d5e675a5d402c98b4125e2ac48f0e558ffaed2a8036c600aaaec7adcba38c6a0998b489352b0570b7db1fb23e25e74b402ef46ada77fd615f2c5d60821d998  noise-repellent-0.2.2.tar.gz
"
