From e3686480cf431570d816a86c68d12c8c23bcb2f9 Mon Sep 17 00:00:00 2001
From: Philipp Storz <philipp.storz@bareos.com>
Date: Fri, 5 Nov 2021 11:22:16 +0100
Subject: [PATCH] webui: adapt to php 8.0 changes in  array_key_exists()

(cherry picked from commit 67646bbbe77ba3598e282e572e84d41d651555d1)
---
 .../zendframework/zend-i18n/src/Translator/Loader/Gettext.php   | 2 +-
 .../zendframework/zend-i18n/src/Translator/Loader/PhpArray.php  | 2 +-
 .../zend-i18n/src/Translator/Loader/PhpMemoryArray.php          | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/Gettext.php b/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/Gettext.php
index d64827a586..67547f772b 100644
--- a/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/Gettext.php
+++ b/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/Gettext.php
@@ -139,7 +139,7 @@ public function load($locale, $filename)
         }

         // Read header entries
-        if (array_key_exists('', $textDomain)) {
+        if ($textDomain->offsetExists('')) {
             $rawHeaders = explode("\n", trim($textDomain['']));

             foreach ($rawHeaders as $rawHeader) {
diff --git a/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/PhpArray.php b/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/PhpArray.php
index 10fdab8792..3a6ba13166 100644
--- a/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/PhpArray.php
+++ b/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/PhpArray.php
@@ -49,7 +49,7 @@ public function load($locale, $filename)

         $textDomain = new TextDomain($messages);

-        if (array_key_exists('', $textDomain)) {
+        if ($textDomain->offsetExists('')) {
             if (isset($textDomain['']['plural_forms'])) {
                 $textDomain->setPluralRule(
                     PluralRule::fromString($textDomain['']['plural_forms'])
diff --git a/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/PhpMemoryArray.php b/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/PhpMemoryArray.php
index dc9b9e387a..3ca331f3f1 100644
--- a/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/PhpMemoryArray.php
+++ b/webui/vendor/zendframework/zend-i18n/src/Translator/Loader/PhpMemoryArray.php
@@ -59,7 +59,7 @@ public function load($locale, $textDomain)

         $textDomain = new TextDomain($this->messages[$textDomain][$locale]);

-        if (array_key_exists('', $textDomain)) {
+        if ($textDomain->offsetExists('')) {
             if (isset($textDomain['']['plural_forms'])) {
                 $textDomain->setPluralRule(
                     PluralRule::fromString($textDomain['']['plural_forms'])
