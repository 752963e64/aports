# Contributor: prspkt <prspkt@protonmail.com>
# Maintainer: prspkt <prspkt@protonmail.com>
pkgname=py3-lazy-object-proxy
_pkgname=lazy-object-proxy
pkgver=1.6.0
pkgrel=2
pkgdesc="Fast and thorough lazy object proxy"
url="https://github.com/ionelmc/python-lazy-object-proxy"
arch="all"
license="BSD-2-Clause"
depends="python3"
makedepends="py3-setuptools python3-dev"
checkdepends="py3-pytest-runner py3-pytest-benchmark"
source="https://files.pythonhosted.org/packages/source/${_pkgname:0:1}/$_pkgname/$_pkgname-$pkgver.tar.gz
	remove-setuptools_scm.patch"
builddir="$srcdir/"$_pkgname-$pkgver

prepare() {
	default_prepare
	sed -e "s/%%PKGVER%%/$pkgver/" -i setup.cfg
}

build() {
	python3 setup.py build
}

check() {
	python3 setup.py pytest
}

package() {
	python3 setup.py install --prefix=/usr --root="$pkgdir"
}

sha512sums="
81a9731aa22afdd8c7859abf12ed6041f2fab533566dc537159bbb88c2afc4a0996953db20524ee58dbccf6da8e24f7bb38a3fa71994924100dd2b635234ac38  lazy-object-proxy-1.6.0.tar.gz
db0a2527f0142f3dfb5979c4a5b6e5e7e9b7023d7d41e721c4db7cc9b2d477cd486b2688031638920121546bc5531a1d9d794ad0c403ad96aac2d229faff1c2a  remove-setuptools_scm.patch
"
