# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=alpine-conf
pkgver=3.13.0
pkgrel=1
pkgdesc="Alpine configuration management scripts"
url="https://git.alpinelinux.org/alpine-conf/about"
arch="all"
license="MIT"
depends="openrc>=0.24.1-r6 busybox>=1.26.1-r3"
source="https://gitlab.alpinelinux.org/alpine/alpine-conf/-/archive/$pkgver/alpine-conf-$pkgver.tar.gz
	https://gitlab.alpinelinux.org/alpine/alpine-conf/-/commit/b3f03bf4704b02146cca4cf1bd7af85011d5273a.patch
	https://gitlab.alpinelinux.org/alpine/alpine-conf/-/commit/4103dce44084c5dc3bb067522da6caf8cbdf5662.patch
	"

builddir="$srcdir"/$pkgname-$pkgver
build() {
	cd "$builddir"
	make VERSION=$pkgver-r$pkgrel
}

package() {
	cd "$builddir"
	make install PREFIX= DESTDIR="$pkgdir"
	for i in commit exclude include status update; do
		ln -s lbu "$pkgdir"/sbin/lbu_$i
	done
}

sha512sums="
ad5c26bc4b1cd0e5f3083340469d7748dc2a5e97cb6d5e9cd87cdff36633d64732d59b577ea23202aa5b75da4ca65f07682d2b3387e7529717f169d8718824cc  alpine-conf-3.13.0.tar.gz
6ae6a7513b054ffa48db2b0d648dc2219dcc561d7597d7f20fb2d9550f1a08de8180110d4165d174af02c3d3e1fb008959c766f5d794d44cd1a8cebb43327e3f  b3f03bf4704b02146cca4cf1bd7af85011d5273a.patch
76577d5adc10365d81d5e692414e90695adbd2a4893da227f0db8c928d1be8d6f828e50b4f4503acce1121e5f2a4dd8c47383c9bf05fba558f1aa3e7530e570f  4103dce44084c5dc3bb067522da6caf8cbdf5662.patch
"
