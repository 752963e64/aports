diff --git a/tests/vtgen.c b/tests/vtgen.c
index 836e934..2e510b7 100644
--- a/tests/vtgen.c
+++ b/tests/vtgen.c
@@ -1,6 +1,7 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
+#include <unistd.h>
 
 static int rnd(int x)
 {
@@ -25,6 +26,7 @@ static const char *misc[]=
 
 int main(void)
 {
+    alarm(10);
     while (1)
     {
         switch (rnd(4))
