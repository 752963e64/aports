# Maintainer: Natanael Copa <ncopa@alpinelinux.org>
pkgname=busybox-extras-openrc
pkgver=1.2
pkgrel=0
pkgdesc="Init scripts for miscellaneous services provided by busybox-extras"
url="https://git.alpinelinux.org/aports/tree/main/busybox-extras-openrc"
arch="noarch"
license="GPL-2.0-only"
depends="busybox-extras openrc>=0.24.1-r6"
makedepends=""
options="!check"
replaces="busybox-openrc<1.2"
source="dnsd.initd httpd.initd inetd.initd udhcpd.initd"

package() {
	mkdir -p "$pkgdir"/etc/init.d
	cd "$srcdir"
	for i in *.initd; do
		install -m755 "$i" "$pkgdir"/etc/init.d/${i%%.initd} || return 1
	done
	if test "`echo *.confd`" != '*.confd'; then
		mkdir -p "$pkgdir"/etc/conf.d
		for i in *.confd; do
			install -m644 "$i" "$pkgdir"/etc/conf.d/${i%%.confd} || return 1
		done
	fi
}

sha512sums="
612a7ffb475fd23d33b2a7266b621537ca59b4abd8cb5a9ce03771800ec4f7622a8ff380320f8d768291e4d1a68adfff28f369776a80125940ee40b2e4a5db4d  dnsd.initd
66bfd7d2a03f4e8a50f08b7057091bfef8e36001eb7c07574ec45da6d75db05a88ae37dbd51e3e3fc7b00a784bf69f8416682ce0454ca16cc072358abdf4d2ce  httpd.initd
9f7c96a7af5e0f6450b6100b7f99e3fe52759f797dca3a92e8e4ad7c08e6acf384fba2496a4e1e8b77f60ba23195bf2bf58013b16aa03f649a16d6f8aad3f8a9  inetd.initd
1d4574ec7cc6d7e9952bb50b4fcb10a910868688da03a25aede492835313c686247bde1faa17f50243d61a93bfc1d8fa54cf821d7be908581e365b0f1b6a5588  udhcpd.initd
"
