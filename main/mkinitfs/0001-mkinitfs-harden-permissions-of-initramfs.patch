From 23fe38c883439310ead972e734cba985b7baaf63 Mon Sep 17 00:00:00 2001
From: Natanael Copa <ncopa@alpinelinux.org>
Date: Wed, 18 Dec 2019 11:48:14 +0000
Subject: [PATCH] mkinitfs: harden permissions of initramfs

ref https://gitlab.alpinelinux.org/alpine/aports/issues/11044
---
 mkinitfs.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mkinitfs.in b/mkinitfs.in
index 8cd3de3..9bd95f9 100755
--- a/mkinitfs.in
+++ b/mkinitfs.in
@@ -153,7 +153,7 @@ initfs_cpio() {
 		return
 	fi
 	rm -f $outfile
-	umask 0022
+	umask 0077
 	(cd "$tmpdir" && find . | sort | cpio --quiet -o -H newc | $comp) > $outfile
 }
 
-- 
2.24.1

