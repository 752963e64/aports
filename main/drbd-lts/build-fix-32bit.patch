upstream: https://lists.linbit.com/pipermail/drbd-user/2021-February/025841.html

diff --git a/drbd/drbd_sender.c b/drbd/drbd_sender.c
index 3f52dfe..5b3c9c7 100644
--- a/drbd/drbd_sender.c
+++ b/drbd/drbd_sender.c
@@ -664,7 +664,7 @@ static int drbd_single_request_delay(struct drbd_peer_device *peer_device)
 		struct peer_device_conf *pdc = rcu_dereference(peer_device->conf);
 		/* The delay should be at least enough so that we can request
 		 * some data next time, so round up. */
-		delay = DIV_ROUND_UP(HZ * BM_SECT_PER_BIT, pdc->c_max_rate * 2);
+		delay = DIV_ROUND_UP((unsigned long)(HZ * BM_SECT_PER_BIT / 2), pdc->c_max_rate);
 	} else {
 		delay = RS_MAKE_REQS_INTV;
 	}
